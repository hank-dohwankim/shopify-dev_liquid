<section class="products section bg-gray">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="title text-center">
          <h2>Trending Products</h2>
        </div>
      </div>

      {% assign collection = collections[section.settings.collection] %}
      <div class="row">
        {% for product in collection.products limit: section.settings.product_limit %}
          <div class="col-md-4">
            <div class="product-item">
              <div class="product-thumb">
                {% if product.compare_at_price and product.compare_at_price != product.price %}
                  <span class="bage">Sale</span>
                {% endif %}

                <img alt="product-img" class="img-responsive" src="{{product.featured_image.src | img_url:'1920x'}}">
                <div class="preview-meta">
                  <ul>
                    <li>
                      <ahref="{{product.url}}">
                        <i class="fa fa-search"></i>
                      </ahref=>
                    </li>
                    <li>
                      <a href="#">
                        <i class="fa fa-heart-o"></i>
                      </a>
                    </li>
                    <li>
                      <a href="">
                        <i class="fa fa-shopping-cart"></i>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="product-content">
                <h4>
                  <a href="{{product.rul}}">{{product.title}}</a>
                </h4>
                <p class="price">{{product.price | money}}</p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Homepage Products",
  "settings": [
    {
      "type": "text",
      "id":"title",
      "label":"Heading",
      "default":"Trending Products"
    },
    {
      "type": "collection",
      "id":"collection",
      "label":"Collection"
    },
    {
      "type": "range",
      "id":"product_limit",
      "label":"Product Limit",
      "min":3,
      "max":9,
      "default":6
    }
  ]
}
{% endschema %}